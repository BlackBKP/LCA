<!-- Project View Index -->
<div class="container-fluid" style="padding-top:10px">

    <div class="info-box bg-dark">
        <div class="info-box-content">
            <h3 class="info-box-text">Project View</h3>
        </div>
    </div>

    <div class="row">
        <div class="col-2">
            <div class="info-box bg-gradient-dark" style="width:100%;">
                <div class="info-box-content row">
                    <div class="col-4 text-center">
                        <label class="info-box-text" for="ProjectYears" style="height:100%">Year</label>
                    </div>
                    <div class="col-8">
                        <select class="form-control" id="ProjectYears" style="width:100%">
                            <option>2021</option>
                            <option>2020</option>
                            <option>2019</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="card card-dark">
                <div class="card-header">
                    <span class="card-title">JOB ID</span>
                </div>
                <div class="card-body" style="padding:0px">
                    <ul id="pj_lists" class="list-group">
                    </ul>
                </div>
            </div>

            <div class="row">
                <div class="col-12">
                    
                </div>
            </div>
            
        </div>
        <div class="col-10">
            <div class="info-box bg-gradient-dark" style="width:100%;">
                <div class="info-box-content">
                    <h4 class="info-box-text">
                        JOB ID : J21-0001
                    </h4>
                </div>
            </div>

            <div class="row">
                <div class="col-3">
                    <div class="info-box bg-dark">
                        <i class="fas fa-chart-line info-box-icon"></i>
                        <div class="info-box-content">
                            <span class="info-box-text">Progress</span>
                            <span class="info-box-number">80/100</span>
                        </div>
                    </div>
                </div>
                <div class="col-3">
                    <div class="info-box bg-dark">
                        <i class="fas fa-coins info-box-icon"></i>
                        <div class="info-box-content">
                            <span class="info-box-text">Budget Spent</span>
                            <span class="info-box-number">75/100</span>
                        </div>
                    </div>
                </div>
                <div class="col-3">
                    <div class="info-box bg-dark">
                        <i class="fas fa-users info-box-icon"></i>
                        <div class="info-box-content">
                            <span class="info-box-text">Manpower Per Hour</span>
                            <span class="info-box-number">22</span>
                        </div>
                    </div>
                </div>
                <div class="col-3">
                    <div class="info-box bg-dark">
                        <i class="fas fa-money-bill-wave info-box-icon"></i>
                        <div class="info-box-content">
                            <span class="info-box-text">Salary Per Hour</span>
                            <span class="info-box-number">40</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-6">
                    <div class="card card-dark">
                        <div class="card-header">
                            <span class="card-title">
                                Spent Per Fortnight
                            </span>
                        </div>
                        <div class="card-body">
                            <canvas id="canvas_1" style="height:250px"></canvas>
                        </div>
                    </div>
                </div>
                <div class="col-6">
                    <div class="card card-dark">
                        <div class="card-header">
                            <span class="card-title">
                                Manpower Per Hour
                            </span>
                        </div>
                        <div class="card-body">
                            <canvas id="canvas_2" style="height:250px"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-6">
                    <div class="card card-dark">
                        <div class="card-header">
                            <span class="card-title">
                                Salary Per Hour
                            </span>
                        </div>
                        <div class="card-body">
                            <canvas id="canvas_3" style="height:250px"></canvas>
                        </div>
                    </div>
                </div>
                <div class="col-6">
                    <div class="card card-dark">
                        <div class="card-header">
                            <span class="card-title">
                                Normal Per Overtime Ratio
                            </span>
                        </div>
                        <div class="card-body">
                            <canvas id="canvas_4" style="height:250px"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card card-dark">
                <div class="card-header">
                    <span class="card-title">Tables</span>
                </div>
                <div class="card-body">
                    <table class="table table-sm table-hover">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Normal</th>
                                <th>Overtime</th>
                                <th>Salary</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>#01</td>
                                <td>Black</td>
                                <td>80</td>
                                <td>0</td>
                                <td>8,000</td>
                            </tr>

                            <tr>
                                <td>#02</td>
                                <td>Staff A</td>
                                <td>76</td>
                                <td>4</td>
                                <td>8,000</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

        </div>
    </div>

</div>

@section Scripts
{
    <script type="text/javascript">

        $(document).ready(function () {
            GenProjectOptions();
            GenSPFChart();
            GenMPHChart();
            GenSPHChart();
            GenNPOChart();
        });

        function GenProjectOptions() {
            $('#pj_lists').empty();
            var str = '';
            for (var i = 1; i < 28; i++) {
                str += '<li class="list-group-item" style="padding:1px">';
                str += '<button type="button" class="btn form-control" style="background-color:rgba(32,67,198,1);text-color:rgba(255,255,255,1)">';
                str += 'J21 - ' + i.toString().padStart(4, "0") + '</button >';
                str += '</li>';
            }
            $('#pj_lists').append(str);
        }

        //Spent per 15 days
        function GenSPFChart() {
            var ctx = document.getElementById('canvas_1').getContext('2d');
            var chart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['JAN 1', 'JAN 2', 'FEB 1', 'FEB 2', 'MAR 1', 'MAR 2'],
                    datasets: [
                        {
                            label: 'Spent Per Fortnight',
                            type: 'line',
                            data: [1, 2, 1, 2, 1, 1],
                            backgroundColor: 'rgba(250,200,0,0.75)',
                            borderColor: 'rgba(250,200,0,0.75)',
                        },
                        {
                            label: 'Spent Total',
                            type: 'line',
                            data: [1, 3, 4, 6, 7, 8],
                            backgroundColor: 'rgba(255,0,0,0.75)',
                            borderColor: 'rgba(255,0,0,0.75)',
                        },
                        {
                            label: '50% Budget',
                            type: 'line',
                            data: [5, 5, 5, 5, 5, 5],
                            fill: false,
                        },
                        {
                            label: '80% Budget',
                            type: 'line',
                            data: [8, 8, 8, 8, 8, 8],
                            fill: false,
                        },
                        {
                            label: 'Maximum Budget',
                            type: 'line',
                            data: [10, 10, 10, 10, 10, 10],
                            fill: false
                        }
                    ],
                },
                options: {
                    scales: {
                        xAxes: [
                            {
                                max: 7,
                                min: -1,
                                ticks: {
                                    stepSize: 0.5
                                }
                            }
                        ],
                        yAxes: [
                            {
                                ticks: {
                                    beginAtZero: true
                                }
                            },
                        ]
                    },
                    maintainAspectRatio: false
                }
            });
        }

        //Manpower per hour
        function GenMPHChart() {
            var ctx2 = document.getElementById('canvas_2').getContext('2d');
            var chart2 = new Chart(ctx2, {
                type: 'bar',
                data: {
                    labels: ['JAN 1', 'JAN 2', 'FEB 1', 'FEB 2', 'MAR 1', 'MAR 2'],
                    datasets: [
                        {
                            label: 'Normal',
                            data: [10, 9, 10, 11, 7, 6],
                            backgroundColor:'rgba(32,67,198,1)'
                        },
                        {
                            label: 'Overtimes',
                            data: [4, 3.5, 2.5, 1, 1.5, 0.5],
                            backgroundColor:'rgba(40,121,191,1)'
                        }
                    ],
                },
                options: {
                    scales: {
                        xAxes: [
                            {
                                stacked: true
                            }
                        ],
                        yAxes: [
                            {
                                ticks: {
                                    beginAtZero: true
                                },
                                stacked: true
                            },
                        ]
                    },
                    maintainAspectRatio: false
                }
            });
        }

        //Salary per hour
        function GenSPHChart() {
            var ctx3 = document.getElementById('canvas_3').getContext('2d');
            var chart3 = new Chart(ctx3, {
                type: 'bar',
                data: {
                    labels: ['JAN 1', 'JAN 2', 'FEB 1', 'FEB 2', 'MAR 1', 'MAR 2'],
                    datasets: [
                        {
                            label: 'Normal',
                            data: [10, 9, 10, 11, 7, 6],
                            backgroundColor: 'rgba(32,67,198,1)'
                        },
                        {
                            label: 'Overtimes',
                            data: [4, 3.5, 2.5, 1, 1.5, 0.5],
                            backgroundColor: 'rgba(40,121,191,1)'
                        }
                    ],
                },
                options: {
                    scales: {
                        xAxes: [
                            {
                                stacked: true
                            }
                        ],
                        yAxes: [
                            {
                                ticks: {
                                    beginAtZero: true
                                },
                                stacked: true
                            },
                        ]
                    },
                    maintainAspectRatio: false
                }
            });
        }

        //Normal Overtime Ratio
        function GenNPOChart() {
            var ctx4 = document.getElementById('canvas_4').getContext('2d');
            var chart4 = new Chart(ctx4, {
                type: 'doughnut',
                data: {
                    labels: ['Overtime', 'Normal'],
                    datasets: [{
                        data: [40, 200],
                        backgroundColor: [
                            'rgba(32,67,198,1)',
                            'rgba(40,121,191,1)'
                        ],
                    }]
                },
                options: {
                    maintainAspectRatio: false,
                    tooltips: {
                        callbacks: {
                            label: function (tooltipItem) {
                                return (Number(tooltipItem.yLabel) / 240) * 100 + "%";
                            }
                        }
                    }
                }
            });
        }

    </script>
}